// Generated by CoffeeScript 1.10.0
(function() {
  var app, express, fs, http, io, mime, multiparty, server, util;

  express = require("express");

  http = require("http");

  app = express();

  server = http.createServer(app);

  io = require("socket.io")(server);

  util = require("util");

  mime = require("mime");

  fs = require("fs");

  multiparty = require("multiparty");

  app.use(express["static"]("public"));

  app.get("/", function(req, res) {
    return res.render("index.jade", {
      title: "My Site"
    });
  });

  app.post("/", function(req, res) {
    var form;
    form = new multiparty.Form();
    return form.parse(req, function(err, fieldsObject, filesObject, fieldsList, filesList) {
      var name;
      name = fieldsObject;
      return io.sockets.emit("update", name[0]);
    });
  });

  server.listen(process.env.PORT);

}).call(this);
